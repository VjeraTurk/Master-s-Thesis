% !TeX encoding = windows-1250
\chapter{Uvod}
\begin{comment}  
An origin-destination matrix is an important tool for describing group mobility and measuring socio-economic activity in a certain region, often used in traffic science for urban migration analysis and strategic planning.
\end{comment}


Izvorišno-Odredišna ili Polazišno-Odredišna matrica \textit{eng. \gls{odm}} ili \textit{Trip Table} alat je koji omoguæuje opis i sustavnu statistièku procjenu migracija stanovništva na nekom podruèju u zadanom prostorno-vremenskom okviru. Služi za opis grupne mobilnosti i mjerenje socio-ekonomske aktivnosti u nekoj regiji, a najèešæe se koristi u prometnoj znanosti za analizu i strateško planiranje prometnog optereæenja i prometne infrastrukture. 

Za razliku od tradicionalnog pristupa prebrojavanja putovanja i putnika na licu mjesta, anketiranjem ili pomoæu razlièitih strateški postavljenih osjetila, za procjenu matrica danas se sve više koristi statistièka analiza podataka iz suvremenih informacijskih i komunikacijskih sustava (zapisi o aktivnostima u javnoj pokretnoj mreži, združena oèitanja prijamnika za satelitsku navigaciju i sl.), èime je omoguæeno poboljšanje kvalitete procjene preslikavanjem matrice na kontekst. Kada daju informaciju o kontekstu- svrsi kretanja- matrice su dodatno obogaæene i postaju izvor informacija za primjenu i van konteksta prometa. (...)



\begin{comment}
Pojavljuje se potreba za objektivnom procjenom kvalitete \gls{odm} u odnosu na referentnu (kontrolnu). U ovom radu definirani su odnosni parametri kvalitete \gls{odm} te je razvijena metodologija usporedbe dviju \gls{odm}-a dobivenih razlièitim postupcima procjene i s podatcima iz razlièitih izvora. Usporedba je obavljena korištenjem numerièkog i grafièkog oblika \gls{odm}. 

Metodologija je izvedena u programskom okruženju za statistièko raèunarstvo R te je demonstrirana njena primjena na sluèaju usporedbe dviju \gls{odm}-a. Dobiveni rezultati komentirani su sa stajališta apsolutne i relativne toènosti matrica.
	content...
\end{comment}

\chapter{Polazišno-odredišna matrica}

\begin{comment}  

The Origin-Destination matrices (ODs) provides the number of trips between each pair of locations in the area for a specified time window ...which specify the travel demands between the origin and destination nodes in the network. 

Izvorišno-odredišna matrica prikazuje broj putovanja iz izvorišne u ciljnu zonu u promatranom vremenu. Može biti prikazana ukupno ili po pojedinim modulima prometnog sustava (osobna vozila, vozila javnog prijevoza, teretna vozila, pješaka itd). Može biti generirana za sadašnje ili planirano prometno optereæenje.


\end{comment}

Polazišno-odredišna matrica sadrži broj putovanja izmeðu svakog para zona unutar nekog podruèja za odreðeni vremenski okvir (u svakom smjeru zasebno). Redovi u matrici predstavljaju polazišta (izvore prometnog toka), a stupci odredišta. Svaki element u matrici predstavlja broj putovanja iz pripadajuæe polazišne u pripadajuæu ciljnu zonu. Može se smatrati matriènim zapisom težinskog usmjerenog grafa, gdje su težinski faktori usmjerenih veza širine prometnih tokova izmeðu èvorova mreže koji predstavljaju zone na koje je promatrano podruèje podijeljeno.  

U prometnoj znanosti postoje brojne metode estimacije matrica. I dok se još uvijek ulaže u razvoj matematièkih modela koji imaju za cilj poveæati kvalitetu matrica generiranih tradicionalnim metodama, u novije vrijeme razvijaju se nove, moderne metode, koje imaju veliki potencijal, zbog svoje jednostavnosti u izvedbi, ažurnosti podataka i velikog uzorka stanovništva koji obuhvate, (...)
%zamijeniti tradicionalne metode i postati standard u analizi prometa pa tako i generiranju \gls{pom}-a.

Matrica može biti generirana za sadašnje ili planirano prometno optereæenje. Može biti prikazana ukupno ili po pojedinim modulima prometnog sustava (osobna vozila, vozila javnog prijevoza, teretna vozila, pješaka itd) i/ili razlièitim svrhama putovanja (putovanja na posao, putovanja kuæi...).   

Odreðivanje konteksta putovanja dodatno obogaæuje matrice jer specificira socio-ekonomske aktivnosti koje su pokretaèi putovanja odnosno razlozi kretanja stanovništva. %in the first place. 
Moguænost preciznog odreðivanja konteksta zavisi o metodi estimacije matrica.

Kada kontekst (svrha) putovanja nije inicijalno poznat iz prikupljenih podataka o putovanjima, kada je rijeè o novijim metodama estimacije matrica, autori razlièito pristupaju kontekstualizaciji. O tome je rijeè u poglavlju X.

%Znanstvenici predlažu metode kontekstualizacije za sluèajeve kada kontekst (svrha) putovanja od interesa nije inicijalno poznat iz prikupljenih podataka o putovanjima.
 
% metoda kontekstualizacije i njena ogranièenja ovisit æe o samoj metodi estimacije matrica, vremenskom razdoblju 
 
%prednosti, nedostatke, ogranièenja
%, a kako se kontekst putovanja ili toka odreðuje zavisi o metodi estimacije i metodi kontekstualizacije.
  
  % ali nije uvijek izvedivo, odnosno ovisi o metodi estimacije ili o kolièini i kvaliteti prikupljenih podataka. 
  
  %Odreðivanje konteksta putovanja može se promatrati kao zasebna problematika, jer ovisno o metodi prikupljanja podataka za generiranje matrica ovisi i moguænost prikupljanje ili estimacije informacija o kontekstu.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Iako intuitivno možemo zakljuèiti da se radi o kvadratnoj matrici, ove matrice su ponekad, zbog ogranièenja metoda (ili prirode kretanja na nekom podruèju)  "rijetko popunjene", odnosno sadrže veliki broj nul-æelija, pa su u nekim sluèajevima prazni redovi ili stupci izbaèeni, a posljedica toga je memorijski (i raèunski) manje zahtjevna, ne-kvadratna matrica. Ova problematika istaknuta je u radu iz 2010. koji analizira kvalitetu matrica dobivenih iz anketa stanovništva\cite{Cools:2010.}.

\section{Tradicionalni pristupi generiranju POM-a}


\subsection{Ankete}

\begin{comment}  
Traditional methods include running surveys within cities and estimating the flows between locations of the city from the feedback of those surveys. Such methods consume longer periods of time and are inaccurate at times. They usually span smaller population sample sizes and thus are more prone to biases.

Recent research in the domain of ubiquitous computing provided alternative methodologies for estimating more accurate ODs from user generated datasets like cell phone data. 
\end{comment}

Tradicionalne metode ukljuèuju metode provoðenja anketiranja. Postoji nekoliko vrsta anketa: u kuæanstvima, presretanje vozila, anketiranje  prijevoznih kompanija i tvrtki, tranzit na granici, turisti u hotelima i parking \cite{Cools:2010.}. Ovakve metode su prije svega resursno zahtjevne stoga se ne provode èesto. Anketiranje putovanja u kuæanstvima provodi se na podruèjima brojnih svjetskih metropola tek jednom u deset godina.  

Anketiranje vozaèa presretanjem vozila eng. \gls{rsi} u prosjeku košta èak 10 eura po jednom zabilježenom putovanju i ukupno obuhvati 10\% prometa. Ova vrsta najèešæe se provodi na autocestama. \cite{Pollard:2013.}  

Provoðenje ovih metoda zahtjeva mnogo vremena i ponekad su netoène. Pokrivaju malen dio populacije te iz tog razloga mogu biti pristrane.\cite{Alhazzani:2016.}

\subsection{Prebrojavanje vozila}

\begin{comment}  

Data-driven OD estimation methods relying on link-level traffic flow measurements require less effort and offer significantly reduced time and cost for data acquisition and processing. 

For such methods, observed traffic flows at key points throughout the network should be known as prior information for OD matrix initialization. \cite{Wang:2016.}
ruèno, video
\end{comment}

Metode koje ukljuèuju prebrojavanje vozila na kljuènim èvorištima prometne infrastrukture manje su zahtjevne u odnosu na ankete i znaèajno smanjuju vrijeme i troškove prikupljanja podataka. Radi se o analizi nadzornih snimaka prometa, automatskom sustav za prepoznavanje i oèitovanje registarskih ploèica eng. \gls{anpr}, osjetilima prometnog toka (radarski, magnetni, video-senzori, zvuèni...)  i  ruènom prebrojavanju. 



\subsection{Modeliranje prometa}

\begin{comment}  
Mathematical modeling of traffic requires a lot of data and other information about the road network and the travel demand. The accuracy of the modeled traffic situation depends on the quality of the available information, and how this data is combined and weighted from different sources. The travel demand is a key component and nearly every traffic model requires a tablea OD/trip matrix/table specifying the travel demand between different places in the network. Such a tableau is called an Origin–Destination matrix, or OD-matrix for short; synonymously used terms are trip table or (origin–destination) trip matrix. 


it is typically assumed that the travel demand is equal in both direction for all OD-pairs,


An accurately estimated time-dependent OD-matrix is a basis for the decisions in many Intelligent
Transportation Systems (ITS). This type of operational models are used to produce travel time
forecasts, which in turn are essential for different kind of route guidance systems.

Tranzitna, t-POM

Koncentracija u radu na CDR (?)
\end{comment}

Matematièko modeliranje prometa zahtjeva veliku kolièinu podataka - informacija o prometnoj mreži i prometnoj potražnji. Toènost modelirane prometne situacije ovisi o kvaliteti dostupnih informacija te kako su podaci kombinirani, koji težinski faktori su primijenjeni za razlièite izvore. Prometna potražnja kljuèna je komponenta te stoga gotovo svaki prometni model zahtjeva POM-u koja specificira prometnu potražnju izmeðu zona u prometnoj mreži. Toèna \gls{pom}-a osnova je za odluke u mnogim Inteligentnim Transportnim Sustavima engl. Intelligent Transportation Systems (ITS) koji su zauzvrat kljuèni za izbor ruta u razlièitim sustavima navigacijskog navoðenja. Neke od pretpostavki kojima se vode u modeliranju su primjerice da je ukupna dnevna potražnja  podjednaka u oba smjera kod svakog para zona na podruèju grada. \cite{Peterson:2007.}

\subsection{Problematika i ogranièenja tradicionalnih naèina}


%Urban sprawl and population growth have resulted in increasingly severe traffic congestion in major cities around the world. City planners and decision makers have recognized the need for comprehensive traffic management strategies to meet the challenges of rapidly evolving built environments and population demographics. Effective transportation polices and control

Širenje gradova i rast stanovništva rezultirali su rastuæim brojem sve ozbiljnijih prometnih zastoja u velikim gradovima diljem svijeta. Prepoznata je potreba za opsežnim strategijama upravljanja prometom kako bi se suoèili s izazovima koje donosi brzo razvijajuæa okolina i demografija populacije. Efektivno upravljanje i kontrola prometa mogu poveæati sigurnost, kvalitetu usluge, poticati ekonomski rast i smanjiti zagaðenje zraka. Zbog dinamike kojom se gradovi mijenjaju razumno je pitati se ima li smisla koristiti matrice stare više godina za modeliranje današnjeg prometa. Dobivanje što toènijih i jeftinijih POM-a privlaèi pažnju znanstvenika i van podruèja prometne znanosti. Alternativni izvori koje oni predlažu za promatranje obrazaca putovanja su znaèajno jeftiniji, ali nailaze na problem da profesija zahtijeva da se njihova vrijednost dokazuje usporedbom s tradicionalnim metodama. \cite{Pollard:2013.}

%Obtaining origin-destination (OD) traffic demand matrix in low-cost and high-accuracy manner not only becomes a problem transportation science, but also draws attentions from many scholars in various scientific fields.

%Generiranje

%Alternatively, other sources for observed travel patterns are considerably cheaper, but somehow the profession demands that their value is proven by comparison with traditional roadside interviews. \cite{Pollard:2013.}
\newpage

\subsection{Pokretna osjetila}
%rad iz 1972
Osnovna ideja pokretnih osjetila je da vozila koja se kreæu po prometnoj mreži i sastavni su dio prometnog toka prikupljaju i šalju podatke. Nužan zahtjev koji treba biti ispunjen kod pokretnih osjetila je poznavanje pozicije vozila u odreðenim vremenskim trenucima. Za to se koristi \gls{gnss} ili se vozila identificiraju na odreðenim toèkama. Engleski naziv za ovu metodu je \gls{fcd}. Danas je \gls{fcd} komplementarni izvor vrijednih podataka i postaje najvažnija tehnologija prikupljanja podataka inteligentnih transportnih sustava. U prikupljanju podataka sudjeluju “namjenska” vozila (taksi, distribucija roba, javni prijevoz, službena vozila i dr.), a mora biti uspostavljen naèin uèestalog slanja podataka o položaju a najèešæe se odvija preko \gls{gsm}, Wi-fi pa i Bluetooth tehnologije. \cite{Jelusic:2016.} 

Ukoliko pokretno osjetilo nije vozilo veæ pametni telefon tada se èesto koristi naziv \gls{fpd}. \gls{fpd} se odnosi na prikupljanje podataka pomoæu mobilnih (pametnih) telefona neovisno o naèinu odreðivanja položaja - korištenjem \gls{gnss} ili pomoæu javne pokretne mreže. %Odreðivanje korištenjem \gls{gnss} prijemnika ponovno zahtjeva slanje podataka kao i kod FCD. 

Zaseban pristup unutar \gls{fpd} je odreðivanje položaja unutar javne pokretne mreže (mreže baznih stanica). Kod ovog naèina položaj pokretne stanice može se odrediti triangulacijom (pomoæu signala iz više baznih stanica èije signal hvata pokretna stanica) ili se aproksimira s podruèjem pokrivanja bazne stanice na koju je u trenutku oèitavanja položaja pokretna stanica spojena.

Kako bi pružali i naplaæivali usluge, mobilni operateri moraju prikupljati podatke o pokretnim stanicama korisnika. Pojednostavljeno, da bi se usmjerio poziv do odgovarajuæeg ureðaja, mora se biti poznato s koje bazne stanice odaslati signal. Naziv za podatke koje operateri prikupljaju kako bi naplaæivali usluge glasi \gls{cdr}. Radi se o zapisima aktivnosti u mobilnoj mreži - pozivima, porukama (engl. Short Messaging Service - SMS) te zapoèetom prijenosu mobilnih podataka.
Tipièan zapis izmeðu ostalog sastoji se od indentifikacijske oznake pristupne toèke radijske mreže (bazne stanice) i vremenskog žiga poèetka telekomunikacijske aktivnosti. 
	
U novije vrijeme znanstvenici predlažu metode u kojima koriste upravo anonimizirane \gls{cdr} kao izvor podataka za generiranje \gls{pom}-a.
\cite{Frias-Martinez:2012.} \cite{Alhazzani:2016.} \cite{Gundlegard:2016.} 

Zanimljivo je ovdje spomenuti europsku inicijativu \textit{eCall} za brzu pomoæ stradalima u prometnim nesreæama bilo gdje u Europskoj Uniji. \textit{eCall} zahtjeva da u svakom novom motornom vozilu bude ugraðen ureðaj koji u sluèaju prometne nesreæe automatski obavijesti centar 112 te mu šalje informacije o aktivaciji zraènih jastuka, prikupljene podatke osjetila za procjenu jaèine sudara i u dakako položaj vozila u trenutku prometne nesreæe. Takoðer treba omoguæiti uspostavu poziva. Prognoza je da æe se korištenjem tog sustava vrijeme odziva (dolaska službi na mjesto prometne nesreæe) smanjiti za izmeðu 40\% i 50\%. Od travnja 2018. svi novi automobili u prodaji u Europskoj moraju imaju ugraðen ovaj ureðaj. Nakon uspješnog uspostavljanja sustava oèekuje se da bi se ureðaj mogao poèeti koristiti i u druge svrhe. \cite{eCall:2018.}

%eCall is a European initiative intended to bring rapid assistance to motorists involved in a collision anywhere in the European Union. eCall was made mandatory in all new cars sold within the EU from April 2018.[1]

%sudjeluju “sluèajni” korisnici usluge celularne mreže koji uz svoju suglasnost (ili bez suglasnosti) dijele podatke o svojoj poziciji i kretanju. Pri tome se algoritmima obrade podataka ustanovljava kojim modom transporta se korisnik koristi.

%E-call

\section{Matrice iz zapisa o telekomunikacijskim aktivnostima u javnoj pokretnoj mreži}

\begin{comment}
%Today, with the ubiquity and pervasiveness of technology, data generated from mobile phones enable data analysts to better understand the behavior of individuals across many dimensions including their mobility patterns. 

Unlike traditional analyses, the nature of this data mining approach forces us to first provide rigid, formal definitions of exactly what we mean by the terms origin, destination and journey. Here, both origins and destinations are subcategories of the overarching concept of a ‘stop’. A stop is defined as a set of contiguous network events that occur at the same location, over a minimum period of time. 
This notion is parameterized to ensure we have sufficient confidence that any stop we have detected is not a transient location, but actually a location that the individual has actually settled in.
\end{comment}

Danas uz sveprisutnost i prodornost tehnologije, podatci koje generiraju pametni telefoni omoguæuju podatkovnim analitièarima razumjeti ponašanje u brojnim domenama pojedinaca, ukljuèujuæi i njihov obrazac kretanja. Kao što je veæ spomenuto matrice je moguæe generirati iz \gls{cdr} koje operateri prikupljaju u svrhu pružanja i naplaæivanja usluge. Za ovu metodu stoga ne postoji potreba za dodatnim ureðajima, sustavima ili protokolima centralnog prikupljanja položaja kao što je to u sluèaju kada se položaj odreðuje pomoæu \gls{gnss}. (...anonimizacija i k).


\subsection{Putovanje}

Priroda ovog pristupa rudarenju podataka za estimaciju POM-a zahtjeva da prvo definiramo što toèno smatramo putovanjem, odnosno polazištem i odredištem putovanja.

Zaustavljanje se definira kao skup minimalno n dogaðaja (aktivnosti) koji su zabilježeni na istoj poziciji unutar minimalnog vremenskog perioda. Time se osigurava da se ne radi o tranzitnoj veæ o namjerenoj poziciji zaustavljanja (i suzbija se bilježenje lažnog kretanje kod privremenog spajanja na susjednu bazni stanicu). Algoritam u nizu aktivnosti svakog pojedinca traži takva zaustavljanja. Dobiveni niz kontinuiranog zaustavljanja na razlièitim položajima otkriva kretanje. Algoritam izvlaèi uzastopne parove zaustavljanja te, prema dodatno definiranim kriterijima dozvoljenog minimalnog i maksimalnog vremenskog razmaka izmeðu polaska i dolaska na odredište, ranije zaustavljanje postaje polazište, a kasnije odredište putovanja. Skupovi putovanja u pripadajuæem vremenskom period saèinjavaju matricu za taj vremenski period.

\begin{comment}
%An algorithm must consequently be developed to exhaustively mine each person’s event series for such stops. Once achieved, the algorithm must next detect pairs of contiguous stops which occur at different locations and hence reveal movement. This pair can then be designated as a journey - the initiating stop becoming the journey’s origin, and the concluding stop as the journey’s destination. 
%coordination with traditional tehniques is key to providing optimal solution in future.\cite{Goulding:2016.}
\end{comment}

\subsection{Kontekst iz samog izvora podataka o kretanju}    
Kada su dostupni zapisi prikupljani dulje vremensko razdoblje, tjednima ili mjesecima èesto se putovanja odnosno matrice definiraju na drugaèiji naèin. Analizom zapisa može se utvrdi na kojem položaju (u kojoj æeliji) neki pojedinci pretežito borave u tipiènom radnom vremenu te u kojoj tokom noæi. Prva æelija za njihova putovanja postaje \textit{Work} destinacija, druga \textit{Home}, a sve preostale destinacije u zasebnu kategoriju \textit{Other}. Potom se generiraju matrice koje ukljuèuju samo putovanja iz jednog tipa destinacije u drugi (npr. Home-Work). \cite{Goulding:2016.} \cite{Calabrese:2011.} \cite{Frias-Martinez:2012.} \cite{Graells-Garrido:2016.} \cite{Toole:2015.}
Jedan od razloga je da su takve matrice usporedive s onima dobivenim iz anketa stanovništva s istom podjelom putovanja.

\begin{comment}
Kada su dostupni zapisi prikupljani dulje vremensko razdoblje, tjednima ili mjesecima èesto se putovanja odnosno matrice definiraju na drugaèiji naèin. Analizom zapisa može se utvrdi na kojem položaju (u kojoj æeliji) neki pojedinci pretežito borave u tipiènom radnom vremenu te u kojoj tokom noæi. Prva æelija za njihova putovanja postaje \textit{Work} destinacija, druga \textit{Home}, a sve preostale destinacije \textit{Other}. potom se generiraju matrice \cite{Goulding:2016.} \cite{Calabrese:2011.} \cite{Frias-Martinez:2012.} \cite{Graells-Garrido:2016.} \cite{Toole:2015.}
\end{comment}

\begin{comment}
		Definiranje putovanja
		Period - Departure/Arrival time
		"Flow between O-D pair w that departed its origin during time interval k"
		\cite{Bera:2011.}
\end{comment}
%proksimacija s BS ili signal strenght (RSSI) + neka ona drugo baza LTO(?)
 \section{Kontekst iz vanjskih izvora}
 
 Some studies combined human mobility with land use or POIs data to segment districts in urban areas according to their functions or use. The type of data used to capture human mobility behavior varies between individual GPS traces [10, 11], taxi pick up/drop off locations as in [7, 12] , Call Detail Records (CDRs) as in [2, 8], social media check ins as
 in [13–15], and bus smart card data as in [16]. 
 
 \subsection{\textit{Points of Interes}} 
 \gls{pois} Points of Interes (Urban Attractors ima 22 kategorije koristi bazu s POI)
 \subsection{Open Street Map}
 \subsubsection{Model raspodjele toka (naš model)}
 \subsubsection{Izvor infrastrukture} OSM kao izvor infrastrukture 
 (jedan od radova koristi za broj traka na auto cesti jedan za provjeru naseljenosti podruèja/broj katova zgrada)
 
 \section{Modul kretanja}
Terralytics - prema brzini kojom pokretna stanica mijenja položaj 

\subsection{Geometrija prostorne podjele}

\subsubsection{Heksagoni}
\subsubsection{Voronoi tesalacije}
\subsubsection{Jedinice samouprave}
\subsubsection{Pravokutna mreža}

\subsection {Dobre prakse u generiranju POM iz CDR}
Skaliranje CDR POM (primjerak $->$ pouplacija)
(linking to transport infrastructure?)
k-anonymization

        Grad, Država
        CDR- POM u zemljama u razvoju
        Penetracija od 82\%, 9x\% -> pronaæi radove
        
        Mobilni ureðaji iz godine u godinu zastupljeni su kod sve veæeg postotka stanovništvu, ne samo u razvijenim zemljama veæ i u zemljama u razvoju. 


\newpage
\section{Drugi primjeri automatskog prikupljanja}

\subsection{Združena oèitanja prijamnika za satelitsku navigaciju}
\subsection{Javni prijevoz i \textit{pametne kartice }(\textit{Smart Card }sustavi)}
82\% putovanja javnim prijevozom naprave korisnici javnog prijevoza sa pametnim karticama.  \cite{Travassoli:2016.}

\vspace{10pt}